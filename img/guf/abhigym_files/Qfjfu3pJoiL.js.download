if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisFeedHooks.react",["PolarisFeedActionTypes","PolarisFeedActions","PolarisPanavisionQEHelpers","PolarisSeenState.react","Run","react","react-redux-wwwig","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useCallback,j=h.useEffect;function a(a,b){var e=d("PolarisSeenState.react").usePolarisSeenStateManager(),f=d("react-redux-wwwig").useDispatch(),g=c("usePolarisQueryStore")(),h=c("usePolarisQueryPreloaderID")(a);return i(function(){if(e!=null&&e.count()>0&&d("PolarisPanavisionQEHelpers").hasSeenStateTracking()){var c=e.getViewInfo();e.clear();f(d("PolarisFeedActions").initFeed({queryStore:g,preloadedFeedQuery:a,preloadedFeedQueryId:h,feedViewInfo:c,preloadedStoryTrayQuery:b}))}else f(d("PolarisFeedActions").initFeed({queryStore:g,preloadedFeedQuery:a,preloadedFeedQueryId:h,preloadedStoryTrayQuery:b}))},[e,f,g,a,h,b])}function b(){var a=d("PolarisSeenState.react").usePolarisSeenStateManager(),b=d("react-redux-wwwig").useDispatch();return i(function(){if(a!=null&&a.count()>0&&d("PolarisPanavisionQEHelpers").hasSeenStateTracking()){var c=a.getViewInfo();a.clear();b(d("PolarisFeedActions").initFeedVariant(c))}else b(d("PolarisFeedActions").initFeedVariant())},[b,a])}function e(){var a=d("PolarisSeenState.react").usePolarisSeenStateManager(),b=d("react-redux-wwwig").useDispatch();return i(function(c){if(a!=null&&a.count()>0&&d("PolarisPanavisionQEHelpers").hasSeenStateTracking()){var e=a.getViewInfo();a.clear();b(d("PolarisFeedActions").loadNextPage(d("PolarisFeedActionTypes").PAGE_SIZE,c,e))}else b(d("PolarisFeedActions").loadNextPage(d("PolarisFeedActionTypes").PAGE_SIZE,c))},[b,a])}function f(){var a=d("PolarisSeenState.react").usePolarisSeenStateManager(),b=d("react-redux-wwwig").useDispatch();return i(function(c,e){c===void 0&&(c=d("PolarisFeedActionTypes").PAGE_SIZE);e===void 0&&(e=!1);if(a!=null&&a.count()>0&&d("PolarisPanavisionQEHelpers").hasSeenStateTracking()){var f=a.getViewInfo();a.clear();b(d("PolarisFeedActions").refreshFeedData(c,e,f))}else b(d("PolarisFeedActions").refreshFeedData(c,e))},[b,a])}function k(){var a=d("PolarisSeenState.react").usePolarisSeenStateManager();j(function(){var b=c("Run").onUnload(function(){a!=null&&a.cache()});return function(){b.remove()}},[a])}g.usePolarisInitFeedPage=a;g.usePolarisInitFeedVariantPage=b;g.usePolarisLoadNextFeedPage=e;g.usePolarisRefreshFeedData=f;g.usePolarisSeenStateCleanup=k}),98);
__d("PolarisFeedGlobalComponents.react",["PolarisConditionallyWrapShell.react","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("polaris_feed");function a(a){a=a.children;return h.jsx(c("PolarisConditionallyWrapShell.react"),{children:h.jsx(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:i,children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCurrentFeedVariant",["CometRouteParams","PolarisFeedActions","PolarisFeedVariants","PolarisPanavisionQEHelpers","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(){var a=d("react-redux-wwwig").useDispatch(),b=d("CometRouteParams").useRouteParams();b=b.variant;var e=(b=c("PolarisFeedVariants").cast(String(b)))!=null?b:"home",f=d("react-redux-wwwig").useSelector(function(a){return a.feed.currentFeed}),g=d("PolarisPanavisionQEHelpers").hasFeedVariants();h(function(){e!=null&&f!==e&&g&&a(d("PolarisFeedActions").selectFeedVariant(e))},[a,g,f,e]);return g?(b=e)!=null?b:f:"home"}g["default"]=a}),98);
__d("usePolarisPreloadFeedExposureLogger",["QE2Logger","emptyFunction","useShouldPreloadPolarisQuery"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("QE2Logger").logExposureForIGUser("polaris_h2_2022_feed_perf")}function a(a,b){var d=c("useShouldPreloadPolarisQuery")();a=a.expose;b=b.expose;if(d&&(a||b))return h;else return c("emptyFunction")}g["default"]=a}),98);
__d("PolarisFeedRoot.react",["CometPlaceholder.react","PolarisFeedActions","PolarisFeedGlobalComponents.react","PolarisFeedHooks.react","PolarisFeedState","cr:2942","cr:4143","react","react-redux-wwwig","usePolarisCurrentFeedVariant","usePolarisPreloadFeedExposureLogger","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef;function a(a){var e;a=a.props.routeProps.polaris_preload;var f=a.feed;a=a.story_tray;var g=c("usePolarisCurrentFeedVariant")(),k=c("useRoutePassthroughProps")(),l=j(!1),m=d("react-redux-wwwig").useDispatch(),n=(e=d("react-redux-wwwig").useSelector(function(a){return g==="home"&&a.feed.currentState===d("PolarisFeedState").FEED_STATE_NETWORK||a.feed.content[g].isLoadingPosts}))!=null?e:!1,o=d("PolarisFeedHooks.react").usePolarisInitFeedPage(f,a),p=d("PolarisFeedHooks.react").usePolarisInitFeedVariantPage(),q=d("PolarisFeedHooks.react").usePolarisRefreshFeedData(),r=d("react-redux-wwwig").useSelector(function(a){return a.feed.content[g].items}),s=c("usePolarisPreloadFeedExposureLogger")(f,a);i(function(){g==="home"&&l.current===!1&&!n?(s(),o(),l.current=!0):g!=="home"&&!n&&!r&&p()},[g,o,p,n,r,s]);i(function(){(k==null?void 0:k.refreshFeed)===!0&&(window.scrollTo(0,0),m(d("PolarisFeedActions").scrolledToTop()),q())},[m,k==null?void 0:k.refreshFeed,q]);e=h.jsx(b("cr:4143"),{});return h.jsx(c("PolarisFeedGlobalComponents.react"),{children:b("cr:2942")!=null?h.jsx(b("cr:2942"),{mainComponent:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:e})}):h.jsx(c("CometPlaceholder.react"),{fallback:null,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);